#!/usr/bin/env bash

# You can use this script to launch Clojure
# in any POSIX-compatible environment such
# as Linux, Mac OS X, or Cygwin.

set -e

if ( which java &>/dev/null )
then
    :
else
    echo "ERROR: Cannot find java executable."
    echo "Make sure the Java Develpoment Kit is installed"
    echo "and the java executable is on your PATH."
fi

cd `dirname $0`

if [ "$OSTYPE" = "cygwin" ]
then
    CLASSPATH="test;src;dev-resources;resources;target/classes;repository/io/netty/netty/3.6.3.Final/netty-3.6.3.Final.jar;repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar;repository/jline/jline/0.9.94/jline-0.9.94.jar;repository/org/slf4j/jcl-over-slf4j/1.6.4/jcl-over-slf4j-1.6.4.jar;repository/org/slf4j/log4j-over-slf4j/1.6.4/log4j-over-slf4j-1.6.4.jar;repository/net/sf/opencsv/opencsv/2.0.1/opencsv-2.0.1.jar;repository/org/slf4j/slf4j-api/1.6.4/slf4j-api-1.6.4.jar;repository/com/h2database/h2/1.3.165/h2-1.3.165.jar;repository/org/slf4j/slf4j-nop/1.6.4/slf4j-nop-1.6.4.jar;repository/com/amazonaws/aws-java-sdk/1.4.1/aws-java-sdk-1.4.1.jar;repository/incanter/parallelcolt/0.9.4/parallelcolt-0.9.4.jar;repository/incanter/incanter-io/1.3.0/incanter-io-1.3.0.jar;repository/junit/junit/3.8.1/junit-3.8.1.jar;repository/org/clojure/math.combinatorics/0.0.1/math.combinatorics-0.0.1.jar;repository/com/lowagie/itext/1.4/itext-1.4.jar;repository/com/jamesmurty/utils/java-xmlbuilder/0.4/java-xmlbuilder-0.4.jar;repository/incanter/jtransforms/0.9.4/jtransforms-0.9.4.jar;repository/org/codehaus/jackson/jackson-mapper-asl/1.8.9/jackson-mapper-asl-1.8.9.jar;repository/incanter/netlib-java/0.9.4/netlib-java-0.9.4.jar;repository/incanter/incanter-charts/1.3.0/incanter-charts-1.3.0.jar;repository/incanter/csparsej/0.9.4/csparsej-0.9.4.jar;repository/incanter/jplasma/0.9.4/jplasma-0.9.4.jar;repository/org/apache/tomcat/tomcat-jdbc/7.0.27/tomcat-jdbc-7.0.27.jar;repository/incanter/jcommon/1.0.16/jcommon-1.0.16.jar;repository/net/java/dev/jets3t/jets3t/0.8.1/jets3t-0.8.1.jar;repository/clj-time/clj-time/0.3.7/clj-time-0.3.7.jar;repository/commons-codec/commons-codec/1.3/commons-codec-1.3.jar;repository/org/clojure/clojure/1.5.1/clojure-1.5.1.jar;repository/org/clojure/tools.cli/0.2.2/tools.cli-0.2.2.jar;repository/joda-time/joda-time/2.0/joda-time-2.0.jar;repository/org/clojure/data.generators/0.1.0/data.generators-0.1.0.jar;repository/org/codehaus/janino/commons-compiler-jdk/2.6.1/commons-compiler-jdk-2.6.1.jar;repository/org/clojure/test.generative/0.3.0/test.generative-0.3.0.jar;repository/incanter/arpack-combo/0.9.4/arpack-combo-0.9.4.jar;repository/com/datomic/datomic-free/0.8.3941/datomic-free-0.8.3941.jar;repository/incanter/jfreechart/1.0.13-no-gnujaxp/jfreechart-1.0.13-no-gnujaxp.jar;repository/org/apache/lucene/lucene-core/3.3.0/lucene-core-3.3.0.jar;repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar;repository/incanter/optimization/0.9.4/optimization-0.9.4.jar;repository/incanter/incanter-pdf/1.3.0/incanter-pdf-1.3.0.jar;repository/org/hornetq/hornetq-core/2.2.21.Final/hornetq-core-2.2.21.Final.jar;repository/org/codehaus/jackson/jackson-core-asl/1.8.9/jackson-core-asl-1.8.9.jar;repository/org/slf4j/jul-to-slf4j/1.6.4/jul-to-slf4j-1.6.4.jar;repository/org/fressian/fressian/0.6.3/fressian-0.6.3.jar;repository/org/clojure/tools.namespace/0.2.3/tools.namespace-0.2.3.jar;repository/org/codehaus/janino/commons-compiler/2.6.1/commons-compiler-2.6.1.jar;repository/org/apache/tomcat/tomcat-juli/7.0.27/tomcat-juli-7.0.27.jar;repository/org/danlarkin/clojure-json/1.1/clojure-json-1.1.jar;repository/incanter/incanter-core/1.3.0/incanter-core-1.3.0.jar;repository/com/google/guava/guava/12.0.1/guava-12.0.1.jar"
else
    CLASSPATH="test:src:dev-resources:resources:target/classes:repository/io/netty/netty/3.6.3.Final/netty-3.6.3.Final.jar:repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:repository/jline/jline/0.9.94/jline-0.9.94.jar:repository/org/slf4j/jcl-over-slf4j/1.6.4/jcl-over-slf4j-1.6.4.jar:repository/org/slf4j/log4j-over-slf4j/1.6.4/log4j-over-slf4j-1.6.4.jar:repository/net/sf/opencsv/opencsv/2.0.1/opencsv-2.0.1.jar:repository/org/slf4j/slf4j-api/1.6.4/slf4j-api-1.6.4.jar:repository/com/h2database/h2/1.3.165/h2-1.3.165.jar:repository/org/slf4j/slf4j-nop/1.6.4/slf4j-nop-1.6.4.jar:repository/com/amazonaws/aws-java-sdk/1.4.1/aws-java-sdk-1.4.1.jar:repository/incanter/parallelcolt/0.9.4/parallelcolt-0.9.4.jar:repository/incanter/incanter-io/1.3.0/incanter-io-1.3.0.jar:repository/junit/junit/3.8.1/junit-3.8.1.jar:repository/org/clojure/math.combinatorics/0.0.1/math.combinatorics-0.0.1.jar:repository/com/lowagie/itext/1.4/itext-1.4.jar:repository/com/jamesmurty/utils/java-xmlbuilder/0.4/java-xmlbuilder-0.4.jar:repository/incanter/jtransforms/0.9.4/jtransforms-0.9.4.jar:repository/org/codehaus/jackson/jackson-mapper-asl/1.8.9/jackson-mapper-asl-1.8.9.jar:repository/incanter/netlib-java/0.9.4/netlib-java-0.9.4.jar:repository/incanter/incanter-charts/1.3.0/incanter-charts-1.3.0.jar:repository/incanter/csparsej/0.9.4/csparsej-0.9.4.jar:repository/incanter/jplasma/0.9.4/jplasma-0.9.4.jar:repository/org/apache/tomcat/tomcat-jdbc/7.0.27/tomcat-jdbc-7.0.27.jar:repository/incanter/jcommon/1.0.16/jcommon-1.0.16.jar:repository/net/java/dev/jets3t/jets3t/0.8.1/jets3t-0.8.1.jar:repository/clj-time/clj-time/0.3.7/clj-time-0.3.7.jar:repository/commons-codec/commons-codec/1.3/commons-codec-1.3.jar:repository/org/clojure/clojure/1.5.1/clojure-1.5.1.jar:repository/org/clojure/tools.cli/0.2.2/tools.cli-0.2.2.jar:repository/joda-time/joda-time/2.0/joda-time-2.0.jar:repository/org/clojure/data.generators/0.1.0/data.generators-0.1.0.jar:repository/org/codehaus/janino/commons-compiler-jdk/2.6.1/commons-compiler-jdk-2.6.1.jar:repository/org/clojure/test.generative/0.3.0/test.generative-0.3.0.jar:repository/incanter/arpack-combo/0.9.4/arpack-combo-0.9.4.jar:repository/com/datomic/datomic-free/0.8.3941/datomic-free-0.8.3941.jar:repository/incanter/jfreechart/1.0.13-no-gnujaxp/jfreechart-1.0.13-no-gnujaxp.jar:repository/org/apache/lucene/lucene-core/3.3.0/lucene-core-3.3.0.jar:repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:repository/incanter/optimization/0.9.4/optimization-0.9.4.jar:repository/incanter/incanter-pdf/1.3.0/incanter-pdf-1.3.0.jar:repository/org/hornetq/hornetq-core/2.2.21.Final/hornetq-core-2.2.21.Final.jar:repository/org/codehaus/jackson/jackson-core-asl/1.8.9/jackson-core-asl-1.8.9.jar:repository/org/slf4j/jul-to-slf4j/1.6.4/jul-to-slf4j-1.6.4.jar:repository/org/fressian/fressian/0.6.3/fressian-0.6.3.jar:repository/org/clojure/tools.namespace/0.2.3/tools.namespace-0.2.3.jar:repository/org/codehaus/janino/commons-compiler/2.6.1/commons-compiler-2.6.1.jar:repository/org/apache/tomcat/tomcat-juli/7.0.27/tomcat-juli-7.0.27.jar:repository/org/danlarkin/clojure-json/1.1/clojure-json-1.1.jar:repository/incanter/incanter-core/1.3.0/incanter-core-1.3.0.jar:repository/com/google/guava/guava/12.0.1/guava-12.0.1.jar"
fi

java -cp "$CLASSPATH" jline.ConsoleRunner clojure.main "$@"
